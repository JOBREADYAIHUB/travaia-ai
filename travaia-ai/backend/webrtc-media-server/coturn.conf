# COTURN TURN/STUN Server Configuration for TRAVAIA WebRTC

# Listening port for STUN/TURN
listening-port=3478
tls-listening-port=5349

# External IP (will be set dynamically)
external-ip=EXTERNAL_IP_PLACEHOLDER

# Relay IP (same as external IP)
relay-ip=EXTERNAL_IP_PLACEHOLDER

# Realm for authentication
realm=travaia.com

# Server name
server-name=travaia-turn

# Authentication
lt-cred-mech

# User credentials (set via environment variables)
user=travaia:${TURN_PASSWORD}

# Certificate files for TLS
cert=/etc/certs/cert.pem
pkey=/etc/certs/key.pem

# Logging
log-file=/var/log/coturn.log
verbose

# Security settings
no-multicast-peers
no-cli
no-loopback-peers
no-tcp-relay
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Performance settings
max-bps=1000000
bps-capacity=0
stale-nonce=600

# Database (optional, for persistent storage)
# userdb=/var/lib/coturn/turndb
